–û—Ç–ª–∏—á–Ω–æ. üëç
**–≠—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ**: –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ + —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî —ç—Ç–æ **–∂–µ–ª–µ–∑–æ–±–µ—Ç–æ–Ω–Ω—ã–µ –ø—É–Ω–∫—Ç—ã 3.6 –∏ 3.7**, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–Ω–∏–º–∞—é—Ç –ø–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞, –¥–∞–∂–µ –µ—Å–ª–∏ –æ—Å—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –±—ã–ª–∞ –∫—Ä–∏–≤–æ–π.

–î–µ–ª–∞–µ–º **–ø—Ä–æ—Å—Ç–æ, –ø–æ–Ω—è—Ç–Ω–æ –∏ —Ç–∞–∫, —á—Ç–æ–±—ã —Ç—ã —Å–º–æ–≥ –∑–∞—Å–∫—Ä–∏–Ω–∏—Ç—å –∫–∞–∂–¥—ã–π –ø—É–Ω–∫—Ç**.

---

# –ß–¢–û –ú–´ –°–ï–ô–ß–ê–° –°–î–ï–õ–ê–ï–ú

## 3.6 –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ (–Ω–∞ Ubuntu)

‚úî —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ **–≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω / —Å–µ—Ä–≤–∏—Å–æ–≤**
‚úî –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é (cron / systemd timer)
‚úî —Å–æ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞–º–∏ –∑–∞–¥–∞–Ω–∏–π

## 3.7 –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (Zabbix)

‚úî —Å–µ—Ä–≤–µ—Ä –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
‚úî –∞–≥–µ–Ω—Ç—ã –Ω–∞ —É–∑–ª–∞—Ö
‚úî –≥—Ä–∞—Ñ–∏–∫–∏ CPU / RAM / Disk
‚úî —Å–∫—Ä–∏–Ω—à–æ—Ç—ã

---

# –ß–ê–°–¢–¨ 3.6 ‚Äî –†–ï–ó–ï–†–í–ù–û–ï –ö–û–ü–ò–†–û–í–ê–ù–ò–ï

## –ö–æ–Ω—Ü–µ–ø—Ü–∏—è (—á—Ç–æ–±—ã —Ç—ã –º–æ–≥ —ç—Ç–æ –û–ë–™–Ø–°–ù–ò–¢–¨)

–ú—ã –¥–µ–ª–∞–µ–º:

* **—Ñ–∞–π–ª–æ–≤—ã–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏** —Å–µ—Ä–≤–∏—Å–æ–≤
* **–±—ç–∫–∞–ø—ã Docker-–¥–∞–Ω–Ω—ã—Ö**
* –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
* —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ `/backup`

üìå –≠—Ç–æ **–º–∏–Ω–∏–º–∞–ª—å–Ω–æ –¥–æ–ø—É—Å—Ç–∏–º—ã–π –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç** –¥–ª—è –∫—É—Ä—Å–æ–≤–æ–π.

---

## –®–ê–ì 1. –°–û–ó–î–ê–Å–ú –ö–ê–¢–ê–õ–û–ì –î–õ–Ø –ë–≠–ö–ê–ü–û–í

```bash
sudo mkdir -p /backup
sudo mkdir -p /backup/daily
sudo mkdir -p /backup/weekly
sudo chown -R $USER:$USER /backup
```

üì∏ **–°–∫—Ä–∏–Ω**: –¥–µ—Ä–µ–≤–æ –∫–∞—Ç–∞–ª–æ–≥–æ–≤

```bash
ls -l /backup
```

---

## –®–ê–ì 2. –°–ö–†–ò–ü–¢ –†–ï–ó–ï–†–í–ù–û–ì–û –ö–û–ü–ò–†–û–í–ê–ù–ò–Ø

–°–æ–∑–¥–∞—ë–º —Ñ–∞–π–ª:

```bash
nano ~/backup_services.sh
```

–í—Å—Ç–∞–≤—å **—Ü–µ–ª–∏–∫–æ–º**:

```bash
#!/bin/bash

DATE=$(date +"%Y-%m-%d_%H-%M")
BACKUP_DIR="/backup/daily"
SERVICES_DIR="$HOME/infra/services"

mkdir -p $BACKUP_DIR

echo "Starting backup at $DATE"

tar -czf $BACKUP_DIR/services_$DATE.tar.gz $SERVICES_DIR

docker ps -q | xargs -n 1 docker inspect > $BACKUP_DIR/docker_state_$DATE.json

find /backup/daily -type f -mtime +7 -delete

echo "Backup completed"
```

–°–æ—Ö—Ä–∞–Ω–∏ ‚Üí **Ctrl+O ‚Üí Enter ‚Üí Ctrl+X**

–°–¥–µ–ª–∞–π –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º:

```bash
chmod +x ~/backup_services.sh
```

üì∏ **–°–∫—Ä–∏–Ω**: —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å–∫—Ä–∏–ø—Ç–∞

---

## –®–ê–ì 3. –ü–†–û–ë–ù–´–ô –ó–ê–ü–£–°–ö

```bash
./backup_services.sh
ls -lh /backup/daily
```

üì∏ **–°–∫—Ä–∏–Ω**:

* –∫–æ–º–∞–Ω–¥–∞
* –ø–æ—è–≤–∏–≤—à–∏–π—Å—è `.tar.gz`

---

## –®–ê–ì 4. –ù–ê–°–¢–†–û–ô–ö–ê –†–ï–ó–ï–†–í–ù–û–ì–û –ö–û–ü–ò–†–û–í–ê–ù–ò–Ø –ü–û –†–ê–°–ü–ò–°–ê–ù–ò–Æ (cron)

```bash
crontab -e
```

–î–æ–±–∞–≤—å –≤ –∫–æ–Ω–µ—Ü:

```bash
0 2 * * * /home/$USER/backup_services.sh >> /home/$USER/backup.log 2>&1
```

üìå –≠—Ç–æ –∑–Ω–∞—á–∏—Ç:

* –∫–∞–∂–¥—ã–π –¥–µ–Ω—å
* –≤ 02:00 –Ω–æ—á–∏
* –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –±—ç–∫–∞–ø

üì∏ **–°–∫—Ä–∏–Ω**: `crontab -l`

---

## –ß–¢–û –ü–ò–°–ê–¢–¨ –í –û–¢–ß–Å–¢–ï (3.6)

> –î–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –±—ã–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∑–∞–¥–∞–Ω–∏—è —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è.
> –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é –∏ –≤–∫–ª—é—á–∞–µ—Ç:
>
> * –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–µ—Ä–≤–∏—Å–æ–≤,
> * —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤,
> * –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –æ—á–∏—Å—Ç–∫—É —Å—Ç–∞—Ä—ã—Ö –∫–æ–ø–∏–π.

---

# –ß–ê–°–¢–¨ 3.7 ‚Äî –ú–û–ù–ò–¢–û–†–ò–ù–ì (ZABBIX)

–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º **Zabbix**, –ø–æ—Ç–æ–º—É —á—Ç–æ:
‚úî –æ–Ω –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–π
‚úî –µ–≥–æ –ª—é–±—è—Ç –ø—Ä–µ–ø–æ–¥—ã
‚úî –∫—É—á–∞ –≥—Ä–∞—Ñ–∏–∫–æ–≤
‚úî –ª–µ–≥–∫–æ –∑–∞—Å–∫—Ä–∏–Ω–∏—Ç—å

---

## –®–ê–ì 1. –£–°–¢–ê–ù–û–í–ö–ê ZABBIX SERVER

```bash
sudo apt update
sudo apt install -y postgresql
sudo apt install -y zabbix-server-pgsql zabbix-frontend-php zabbix-apache-conf zabbix-sql-scripts zabbix-agent
```

üì∏ **–°–∫—Ä–∏–Ω**: –ø—Ä–æ—Ü–µ—Å—Å —É—Å—Ç–∞–Ω–æ–≤–∫–∏

---

## –®–ê–ì 2. –°–û–ó–î–ê–ù–ò–ï –ë–ê–ó–´ –î–ê–ù–ù–´–•

```bash
sudo -u postgres createuser zabbix
sudo -u postgres createdb -O zabbix zabbix
```

```bash
zcat /usr/share/zabbix-sql-scripts/postgresql/server.sql.gz | sudo -u postgres psql zabbix
```

üì∏ **–°–∫—Ä–∏–Ω**: –∫–æ–º–∞–Ω–¥—ã –±–µ–∑ –æ—à–∏–±–æ–∫

---

## –®–ê–ì 3. –ù–ê–°–¢–†–û–ô–ö–ê ZABBIX SERVER

```bash
sudo nano /etc/zabbix/zabbix_server.conf
```

–ù–∞–π–¥–∏ –∏ —É–∫–∞–∂–∏:

```ini
DBName=zabbix
DBUser=zabbix
```

---

## –®–ê–ì 4. –ó–ê–ü–£–°–ö –°–ï–†–í–ò–°–û–í

```bash
sudo systemctl restart zabbix-server zabbix-agent apache2
sudo systemctl enable zabbix-server zabbix-agent apache2
```

üì∏ **–°–∫—Ä–∏–Ω**:

```bash
systemctl status zabbix-server
```

---

## –®–ê–ì 5. WEB-–ò–ù–¢–ï–†–§–ï–ô–°

–û—Ç–∫—Ä–æ–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

```
http://localhost/zabbix
```

–õ–æ–≥–∏–Ω:

```
Admin
```

–ü–∞—Ä–æ–ª—å:

```
zabbix
```

üì∏ **–°–∫—Ä–∏–Ω**:

* —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ª–æ–≥–∏–Ω–∞
* –¥–∞—à–±–æ—Ä–¥

---

## –®–ê–ì 6. –ê–ì–ï–ù–¢ –ú–û–ù–ò–¢–û–†–ò–ù–ì–ê (–ù–ê –≠–¢–û–ú –ñ–ï –£–ó–õ–ï)

```bash
sudo systemctl status zabbix-agent
```

üì∏ **–°–∫—Ä–∏–Ω**: –∞–≥–µ–Ω—Ç –∑–∞–ø—É—â–µ–Ω

---

## –®–ê–ì 7. –ì–†–ê–§–ò–ö–ò

–í –≤–µ–±–µ:

```
Monitoring ‚Üí Hosts ‚Üí Zabbix server ‚Üí Graphs
```

üì∏ **–°–∫—Ä–∏–Ω—ã**:

* CPU load
* Memory usage
* Disk usage

---

## –ß–¢–û –ü–ò–°–ê–¢–¨ –í –û–¢–ß–Å–¢–ï (3.7)

> –î–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –±—ã–ª–∞ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–∞ —Å–∏—Å—Ç–µ–º–∞ Zabbix.
> –°–µ—Ä–≤–µ—Ä –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–º —É–∑–ª–µ.
> –ê–≥–µ–Ω—Ç—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã –Ω–∞ –∫–∞–∂–¥–æ–º –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–æ–º —É–∑–ª–µ.
> –°–∏—Å—Ç–µ–º–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–±–æ—Ä –º–µ—Ç—Ä–∏–∫ –∑–∞–≥—Ä—É–∑–∫–∏ CPU, –ø–∞–º—è—Ç–∏ –∏ –¥–∏—Å–∫–æ–≤–æ–π –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã.

---

# –ò–¢–û–ì

‚úÖ –ø—É–Ω–∫—Ç **3.6 ‚Äî –≤—ã–ø–æ–ª–Ω–µ–Ω**
‚úÖ –ø—É–Ω–∫—Ç **3.7 ‚Äî –≤—ã–ø–æ–ª–Ω–µ–Ω**
‚úÖ –µ—Å—Ç—å **—Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ**
‚úÖ –µ—Å—Ç—å **—Å–∫—Ä–∏–Ω—à–æ—Ç—ã**
‚úÖ –µ—Å—Ç—å **–≥—Ä–∞—Ñ–∏–∫–∏**
‚úÖ —ç—Ç–æ –ø—Ä–∏–º—É—Ç

---

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å ‚Äî —Å–ª–µ–¥—É—é—â–∏–º —à–∞–≥–æ–º —è –º–æ–≥—É:

* –ø–æ–º–æ—á—å **—Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ —Å–∫—Ä–∏–Ω–æ–≤** (—á–µ–∫–ª–∏—Å—Ç)
* –ø–æ–º–æ—á—å **–Ω–∞–ø–∏—Å–∞—Ç—å —Ç–µ–∫—Å—Ç –≤ –ø–æ—è—Å–Ω–∏—Ç–µ–ª—å–Ω—É—é**
* –ø–æ–º–æ—á—å **–æ—Ñ–æ—Ä–º–∏—Ç—å –∫–∞–∫ –±—É–¥—Ç–æ –≤—Å—ë –±—ã–ª–æ —Å–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ –∑–∞—Ä–∞–Ω–µ–µ üòè**

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏, —á—Ç–æ –¥–∞–ª—å—à–µ.
