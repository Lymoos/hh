–û–∫, **–∑–∞–±–∏–≤–∞–µ–º –Ω–∞ –ø—Ä–æ—à–ª–æ–µ ‚Äî –∏–¥—ë–º –ø–æ –ø–ª–∞–Ω—É** üí™
–î–µ–ª–∞–µ–º **Graylog**, –ø–æ—Ç–æ–º **Zabbix**, –ø–æ—Ç–æ–º **—Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é**.
–Ø –±—É–¥—É –¥–∞–≤–∞—Ç—å **—á—ë—Ç–∫–∏–µ —à–∞–≥–∏**, —Ç—ã **–¥–µ–ª–∞–µ—à—å + —Å–∫—Ä–∏–Ω–∏—à—å**.

---

# üîπ GRAYLOG (–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)

Graylog ‚Äî —ç—Ç–æ **—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Å–±–æ—Ä –ª–æ–≥–æ–≤**, –æ—á–µ–Ω—å —Ö–æ—Ä–æ—à–æ –ª–æ–∂–∏—Ç—Å—è –≤ –æ—Ç—á—ë—Ç.

---

## 1Ô∏è‚É£ –ß—Ç–æ –Ω–∞–º –Ω—É–∂–Ω–æ –¥–ª—è Graylog

Graylog **–í–°–ï–ì–î–ê** —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ 3 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç  | –ó–∞—á–µ–º          |
| ---------- | -------------- |
| MongoDB    | –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ     |
| OpenSearch | —Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–≥–æ–≤ |
| Graylog    | UI + –æ–±—Ä–∞–±–æ—Ç–∫–∞ |

üëâ –í—Å—ë –ø–æ–¥–Ω–∏–º–∞–µ–º —á–µ—Ä–µ–∑ **Docker Compose**.

---

## 2Ô∏è‚É£ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞—Ç–∞–ª–æ–≥–æ–≤ (–í–ê–ñ–ù–û)

```bash
~/infra/services/graylog
```

```bash
mkdir -p ~/infra/services/graylog
cd ~/infra/services/graylog
```

üì∏ *–°–∫—Ä–∏–Ω —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–∞–ø–∫–∏*

---

## 3Ô∏è‚É£ –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –ø–∞—Ä–æ–ª–∏ (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)

### üîπ SHA256 –¥–ª—è root-–ø–∞—Ä–æ–ª—è Graylog

```bash
echo -n "admin123" | sha256sum
```

–°–∫–æ–ø–∏—Ä—É–π **–¢–û–õ–¨–ö–û —Ö—ç—à**, –æ–Ω –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è.

üì∏ *–°–∫—Ä–∏–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞*

---

## 4Ô∏è‚É£ `docker-compose.yml` (–∫–æ–ø–∏—Ä—É–µ—à—å –¶–ï–õ–ò–ö–û–ú)

```yaml
version: '3.8'

services:
  mongodb:
    image: mongo:6
    container_name: graylog-mongo
    restart: unless-stopped

  opensearch:
    image: opensearchproject/opensearch:2.12.0
    container_name: graylog-opensearch
    environment:
      - discovery.type=single-node
      - plugins.security.disabled=true
      - OPENSEARCH_JAVA_OPTS=-Xms512m -Xmx512m
    ulimits:
      memlock:
        soft: -1
        hard: -1
    restart: unless-stopped

  graylog:
    image: graylog/graylog:5.2
    container_name: graylog
    depends_on:
      - mongodb
      - opensearch
    environment:
      GRAYLOG_HTTP_EXTERNAL_URI: http://localhost:9000/
      GRAYLOG_PASSWORD_SECRET: some-long-random-string
      GRAYLOG_ROOT_PASSWORD_SHA2: –í–°–¢–ê–í–¨_–•–≠–®_–°–Æ–î–ê
    ports:
      - "9000:9000"
      - "12201:12201/udp"
    restart: unless-stopped
```

üî¥ **–í–ê–ñ–ù–û**
–í—Å—Ç–∞–≤—å **—Å–≤–æ–π SHA256** –≤–º–µ—Å—Ç–æ:

```
GRAYLOG_ROOT_PASSWORD_SHA2: –í–°–¢–ê–í–¨_–•–≠–®_–°–Æ–î–ê
```

üì∏ *–°–∫—Ä–∏–Ω docker-compose.yml*

---

## 5Ô∏è‚É£ –ó–∞–ø—É—Å–∫ Graylog

```bash
docker compose up -d
```

‚è≥ –ü–æ–¥–æ–∂–¥–∏ **1‚Äì2 –º–∏–Ω—É—Ç—ã** (opensearch –Ω–µ –±—ã—Å—Ç—Ä—ã–π).

üì∏ *–°–∫—Ä–∏–Ω docker ps*

---

## 6Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

```bash
docker ps
```

–¢—ã –¥–æ–ª–∂–µ–Ω —É–≤–∏–¥–µ—Ç—å **3 –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ UP**:

* graylog
* graylog-opensearch
* graylog-mongo

---

## 7Ô∏è‚É£ –í—Ö–æ–¥ –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

üëâ

```
http://localhost:9000
```

### –î–∞–Ω–Ω—ã–µ:

* **Login:** `admin`
* **Password:** `admin123`

üì∏ *–°–∫—Ä–∏–Ω Graylog UI*

---

## 8Ô∏è‚É£ –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (–¥–ª—è –æ—Ç—á—ë—Ç–∞)

### System ‚Üí Inputs ‚Üí Create input

–í—ã–±–µ—Ä–∏:

```
GELF UDP
```

–ü–æ—Ä—Ç:

```
12201
```

Save ‚Üí Start Input

üì∏ *–°–∫—Ä–∏–Ω Inputs*

---

## ‚úÖ Graylog –ì–û–¢–û–í

–í –æ—Ç—á—ë—Ç–µ —Ç—ã –ø–∏—à–µ—à—å:

> Graylog –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–±–æ—Ä–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞ –ª–æ–≥–æ–≤ —Å–µ—Ä–≤–∏—Å–æ–≤ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏.

---

# üîú –î–ê–õ–¨–®–ï –ü–û –ü–õ–ê–ù–£

–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–∏ –º—ã –∏—Ö **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–¥–µ–ª–∞–µ–º**):

### 1Ô∏è‚É£ **Zabbix**

* —Å–µ—Ä–≤–µ—Ä
* web
* –∞–≥–µ–Ω—Ç
* –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ö–æ—Å—Ç–∞

### 2Ô∏è‚É£ **–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ**

* `rsync` / `tar`
* `cron`
* —Å–∫—Ä–∏–Ω—à–æ—Ç—ã —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
* –ª–æ–≥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

---

üëâ **–°–µ–π—á–∞—Å —Å–¥–µ–ª–∞–π Graylog –¥–æ –≤—Ö–æ–¥–∞ –≤ UI**
–ö–æ–≥–¥–∞ –±—É–¥–µ—Ç **—Å—Ç—Ä–∞–Ω–∏—Ü–∞ Graylog** ‚Äî –ø–∏—à–∏:

> Graylog –ø–æ–¥–Ω—è–ª—Å—è

–ò –º—ã **—Å—Ä–∞–∑—É –∏–¥—ë–º –≤ Zabbix**.
