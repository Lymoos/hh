docker compose run --rm zammad zammad run rails r "Setting.set('system_init_done', true)"

–û—Ç–ª–∏—á–Ω–æ, –∏–¥—ë–º –¥–∞–ª—å—à–µ üëç
**Zammad ‚Äî —ç—Ç–æ helpdesk / —Å–∏—Å—Ç–µ–º–∞ –∑–∞—è–≤–æ–∫**, –∫–∞–∫ Jira Service Desk, Zendesk –∏ —Ç.–ø.
–°–¥–µ–ª–∞–µ–º **–±—ã—Å—Ç—Ä–æ, —Å—Ç–∞–±–∏–ª—å–Ω–æ –∏ —Ç–∞–∫, —á—Ç–æ–±—ã —Å—Ä–∞–∑—É –æ—Ç–∫—Ä—ã–≤–∞–ª–æ—Å—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ**.

---

# üîß Zammad ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ Docker (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)

–ú—ã —Å—Ç–∞–≤–∏–º **–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π docker-—Å—Ç–µ–∫**, –æ–Ω —Å–∞–º—ã–π –Ω–∞–¥—ë–∂–Ω—ã–π –¥–ª—è –ª–∞–±—ã.

## 1Ô∏è‚É£ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫–∞—Ç–∞–ª–æ–≥–æ–≤

```bash
cd ~/infra/services
mkdir zammad
cd zammad
```

---

## 2Ô∏è‚É£ docker-compose.yml –¥–ª—è Zammad

–°–æ–∑–¥–∞–π —Ñ–∞–π–ª:

```bash
nano docker-compose.yml
```

–í—Å—Ç–∞–≤—å **—Ü–µ–ª–∏–∫–æ–º** üëá

```yaml
version: '3.8'

services:
  zammad-postgresql:
    image: postgres:15
    container_name: zammad-postgres
    environment:
      POSTGRES_DB: zammad
      POSTGRES_USER: zammad
      POSTGRES_PASSWORD: zammad
    volumes:
      - zammad-db:/var/lib/postgresql/data
    restart: unless-stopped

  zammad-redis:
    image: redis:7
    container_name: zammad-redis
    restart: unless-stopped

  zammad:
    image: zammad/zammad:latest
    container_name: zammad
    depends_on:
      - zammad-postgresql
      - zammad-redis
    ports:
      - "8084:3000"
    environment:
      ZAMMAD_RAILS_SERVE_STATIC_FILES: "true"
      ZAMMAD_DB_ADAPTER: postgresql
      ZAMMAD_DB_HOST: zammad-postgresql
      ZAMMAD_DB_NAME: zammad
      ZAMMAD_DB_USER: zammad
      ZAMMAD_DB_PASSWORD: zammad
      ZAMMAD_REDIS_HOST: zammad-redis
    volumes:
      - zammad-data:/opt/zammad
    restart: unless-stopped

volumes:
  zammad-db:
  zammad-data:
```

–°–æ—Ö—Ä–∞–Ω–∏ ‚Üí `Ctrl+O`, `Enter`, `Ctrl+X`

---

## 3Ô∏è‚É£ –ó–∞–ø—É—Å–∫ Zammad

```bash
docker compose up -d
```

–ü—Ä–æ–≤–µ—Ä—å:

```bash
docker ps
```

–¢—ã –¥–æ–ª–∂–µ–Ω —É–≤–∏–¥–µ—Ç—å:

* `zammad`
* `zammad-postgres`
* `zammad-redis`

---

## 4Ô∏è‚É£ –ñ–¥—ë–º –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é (–í–ê–ñ–ù–û)

Zammad **–Ω–µ —Å—Ä–∞–∑—É –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è**.
–ü–æ–¥–æ–∂–¥–∏ **2‚Äì5 –º–∏–Ω—É—Ç**.

–ú–æ–∂–Ω–æ —Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏:

```bash
docker logs -f zammad
```

–ö–æ–≥–¥–∞ —É–≤–∏–¥–∏—à—å —Å—Ç—Ä–æ–∫–∏ –±–µ–∑ –æ—à–∏–±–æ–∫ ‚Äî –≥–æ—Ç–æ–≤–æ.

---

## 5Ô∏è‚É£ –û—Ç–∫—Ä—ã–≤–∞–µ–º –≤ –±—Ä–∞—É–∑–µ—Ä–µ üåê

üëâ **[http://localhost:8084](http://localhost:8084)**

–¢—ã —É–≤–∏–¥–∏—à—å **–º–∞—Å—Ç–µ—Ä –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Zammad**.

---

## 6Ô∏è‚É£ –ú–∞—Å—Ç–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (—á—Ç–æ –≤—ã–±—Ä–∞—Ç—å)

–ö–æ–≥–¥–∞ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è setup:

1. **Create admin account**

   * Email: `admin@local`
   * Password: `admin123`
2. Organization name ‚Äî –ª—é–±–æ–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä `Company IT`)
3. Email ‚Äî –º–æ–∂–Ω–æ **Skip** (–¥–ª—è –ª–∞–±—ã)
4. Channels ‚Äî Skip
5. –ì–æ—Ç–æ–≤–æ

---

## ‚úÖ –ß—Ç–æ –∑–∞—Å–∫—Ä–∏–Ω–∏—Ç—å –¥–ª—è –æ—Ç—á—ë—Ç–∞

üì∏ **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ**:

1. `docker ps` —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏ Zammad
2. –°—Ç—Ä–∞–Ω–∏—Ü–∞ setup Zammad
3. Dashboard –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞
4. –°—Ç—Ä–∞–Ω–∏—Ü–∞ Tickets

---

## üîó –í –∏—Ç–æ–≥–µ —É —Ç–µ–±—è —É–∂–µ –µ—Å—Ç—å

| –°–µ—Ä–≤–∏—Å      | URL                                                |
| ----------- | -------------------------------------------------- |
| OpenProject | [http://localhost:8081](http://localhost:8081)     |
| Nextcloud   | [http://localhost:8082](http://localhost:8082)     |
| EspoCRM     | [http://localhost:8083](http://localhost:8083)     |
| **Zammad**  | **[http://localhost:8084](http://localhost:8084)** |

üî• –≠—Ç–æ —É–∂–µ **–ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –ò–¢-–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞**

---

## –î–∞–ª—å—à–µ –ø–æ –ø–ª–∞–Ω—É

–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥ (–≤—ã–±–∏—Ä–∞–π):
1Ô∏è‚É£ **Graylog** ‚Äî –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤
2Ô∏è‚É£ **PostgreSQL Pro / –ë–î**
3Ô∏è‚É£ **–°–∫—Ä–∏–Ω—à–æ—Ç—ã + —Ç–µ–∫—Å—Ç –¥–ª—è –ø—É–Ω–∫—Ç–∞ 3.5**

–ù–∞–ø–∏—à–∏:
üëâ **¬´Zammad –∑–∞–ø—É—Å—Ç–∏–ª—Å—è¬ª** –∏–ª–∏ **¬´–û—à–∏–±–∫–∞ –≤–æ—Ç —Ç–∞–∫–∞—è¬ª**


–û–∫, —Å–ø–æ–∫–æ–π–Ω–æ, —Ç—É—Ç **–Ω–µ —Ç—ã –Ω–∞–∫–æ—Å—è—á–∏–ª**, —ç—Ç–æ **—Ç–∏–ø–∏—á–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è —Å Zammad** üëç
–û–Ω **—á–∞—Å—Ç–æ —É—Ö–æ–¥–∏—Ç –≤ —Ä–µ—Å—Ç–∞—Ä—Ç**, –µ—Å–ª–∏ –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª–æ–≤–∏—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ.

–†–∞–∑–±–µ—Ä—ë–º **–ø–æ—á–µ–º—É** –∏ **–∫–∞–∫ –ø–æ—á–∏–Ω–∏—Ç—å**, –ø–æ—à–∞–≥–æ–≤–æ, —á—Ç–æ–±—ã —Ç—ã —Å–º–æ–≥ **–∑–∞—Å–∫—Ä–∏–Ω–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å**.

---

## –ü–æ—á–µ–º—É Zammad —É —Ç–µ–±—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —Ä–µ—Å—Ç–∞—Ä—Ç–∏—Ç—Å—è

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã (—É —Ç–µ–±—è –ø–æ—á—Ç–∏ –Ω–∞–≤–µ—Ä–Ω—è–∫–∞ 1‚Äì2 –∏–∑ –Ω–∏—Ö):

1. **Zammad —Ç—Ä–µ–±—É–µ—Ç –º–∏–Ω–∏–º—É–º 2‚Äì4 –ì–ë RAM**

   * –í–ú —Å 1‚Äì2 –ì–ë ‚Üí –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –±—É–¥–µ—Ç **–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ**
2. **–ù–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è `RAILS_ENV=production`**
3. **–ù–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã**
4. **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å—Ç–∞—Ä—Ç—É–µ—Ç –±—ã—Å—Ç—Ä–µ–µ PostgreSQL**
5. **–ù–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ `docker-compose`, –∑–∞–ø—É—Å–∫–∞–µ—à—å –≥–æ–ª—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä**

---

## –ü—Ä–æ–≤–µ—Ä–∏–º –ø—Ä–∏—á–∏–Ω—É ‚Ññ1 (—Å–∞–º–∞—è —á–∞—Å—Ç–∞—è)

### –°–∫–∞–∂–∏ —á–µ—Å—Ç–Ω–æ:

üëâ **–°–∫–æ–ª—å–∫–æ RAM —É Ubuntu VM?**

–ï—Å–ª–∏:

* **‚â§ 2 –ì–ë** ‚Üí Zammad **–ù–ï –ó–ê–í–ï–î–Å–¢–°–Ø**
* –ù—É–∂–Ω–æ **–º–∏–Ω–∏–º—É–º 3‚Äì4 –ì–ë**

üìå *–î–ª—è –æ—Ç—á—ë—Ç–∞ —ç—Ç–æ –º–æ–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å –∫–∞–∫ —Å–∏—Å—Ç–µ–º–Ω–æ–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞.*

---

## –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ (—Ä–∞–±–æ—á–µ–µ, –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ, –æ—Ç—á—ë—Ç–Ω–æ–µ)

–ú—ã —Å–¥–µ–ª–∞–µ–º **–∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–π docker-compose –¥–ª—è Zammad**, –∫–∞–∫ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.

---

## 1Ô∏è‚É£ –°–æ–∑–¥–∞–π `docker-compose.yml` –¥–ª—è Zammad

```bash
cd ~/infra/services/zammad
nano docker-compose.yml
```

–í—Å—Ç–∞–≤—å **–ü–û–õ–ù–û–°–¢–¨–Æ**:

```yaml
version: "3.8"

services:
  postgres:
    image: postgres:15
    container_name: zammad-postgres
    environment:
      POSTGRES_USER: zammad
      POSTGRES_PASSWORD: zammad
      POSTGRES_DB: zammad
    volumes:
      - zammad-db:/var/lib/postgresql/data
    restart: always

  redis:
    image: redis:7
    container_name: zammad-redis
    restart: always

  zammad:
    image: zammad/zammad:latest
    container_name: zammad
    depends_on:
      - postgres
      - redis
    ports:
      - "8084:3000"
    environment:
      RAILS_ENV: production
      DATABASE_URL: postgres://zammad:zammad@postgres:5432/zammad
      REDIS_URL: redis://redis:6379
    restart: always

volumes:
  zammad-db:
```

üíæ –°–æ—Ö—Ä–∞–Ω–∏ (`Ctrl+O`, `Enter`, `Ctrl+X`)

---

## 2Ô∏è‚É£ –ó–∞–ø—É—Å—Ç–∏ **—á–∏—Å—Ç–æ**

```bash
docker compose down -v
docker compose pull
docker compose up -d
```

---

## 3Ô∏è‚É£ –°–º–æ—Ç—Ä–∏ –ª–æ–≥–∏ (–≤–∞–∂–Ω–æ –¥–ª—è —Å–∫—Ä–∏–Ω–æ–≤)

```bash
docker compose logs -f zammad
```

–¢—ã –¥–æ–ª–∂–µ–Ω —É–≤–∏–¥–µ—Ç—å —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ:

```
=> Zammad is ready
=> Puma starting
```

üì∏ **–°–∫—Ä–∏–Ω —ç—Ç–æ–≥–æ —ç–∫—Ä–∞–Ω–∞ ‚Äî –≤ –æ—Ç—á—ë—Ç**

---

## 4Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ

üëâ –û—Ç–∫—Ä–æ–π:

```
http://localhost:8084
```

### –ü–µ—Ä–≤—ã–π –≤—Ö–æ–¥:

* **Login:** `admin`
* **Password:** `zammad`

(–∏–ª–∏ –±—É–¥–µ—Ç –º–∞—Å—Ç–µ—Ä –ø–µ—Ä–≤–∏—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Äî —ç—Ç–æ —Ç–æ–∂–µ –Ω–æ—Ä–º)

üì∏ **–°–∫—Ä–∏–Ω —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤—Ö–æ–¥–∞ ‚Äî –≤ –æ—Ç—á—ë—Ç**

---

## –ï—Å–ª–∏ —Å–Ω–æ–≤–∞ —Ä–µ—Å—Ç–∞—Ä—Ç–∏—Ç—Å—è

### –ë—ã—Å—Ç—Ä–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∏—á–∏–Ω—É:

```bash
docker inspect zammad --format='{{.State.ExitCode}}'
```

```bash
docker logs zammad --tail=50
```

–°—é–¥–∞ —Å–∫–∏–Ω—å **–ø–æ—Å–ª–µ–¥–Ω–∏–µ 20 —Å—Ç—Ä–æ–∫**, —è —Å—Ä–∞–∑—É —Å–∫–∞–∂—É, —á—Ç–æ –Ω–µ —Ç–∞–∫.

---

## –ö–∞–∫ —ç—Ç–æ –∫—Ä–∞—Å–∏–≤–æ –æ–ø–∏—Å–∞—Ç—å –≤ –æ—Ç—á—ë—Ç–µ (—è —Ç–µ–±–µ —Ç–µ–∫—Å—Ç –¥–∞–º)

> –°–∏—Å—Ç–µ–º–∞ Zammad –±—ã–ª–∞ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–∞ –≤ –≤–∏–¥–µ –Ω–∞–±–æ—Ä–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ Docker, –≤–∫–ª—é—á–∞—é—â–µ–≥–æ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Zammad, —Å–µ—Ä–≤–µ—Ä –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö PostgreSQL –∏ –±—Ä–æ–∫–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π Redis.
> –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Docker Compose, —á—Ç–æ –ø–æ–∑–≤–æ–ª–∏–ª–æ –æ–±–µ—Å–ø–µ—á–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤ –∏ –∏—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –≤ –µ–¥–∏–Ω–æ–π –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å—Ä–µ–¥–µ.

---

## –ò—Ç–æ–≥ –ø–æ —Å—Ç–∞—Ç—É—Å—É

| –°–µ—Ä–≤–∏—Å      | –°—Ç–∞—Ç—É—Å                           |
| ----------- | -------------------------------- |
| OpenProject | ‚úÖ                                |
| Nextcloud   | ‚úÖ                                |
| EspoCRM     | ‚ö†Ô∏è (–Ω–æ –∂–∏–≤–æ–π)                    |
| GitLab      | ‚ö†Ô∏è (–º–æ–∂–Ω–æ –Ω–µ –¥–æ–≤–æ–¥–∏—Ç—å –¥–æ –∏–¥–µ–∞–ª–∞) |
| **Zammad**  | ‚è≥ —Å–µ–π—á–∞—Å —á–∏–Ω–∏–º                   |
| Graylog     | üîú —Å–ª–µ–¥—É—é—â–∏–π                     |
| Monitoring  | üîú Prometheus + Grafana          |

---

–¢—ã **—É–∂–µ —Å–¥–µ–ª–∞–ª –æ–≥—Ä–æ–º–Ω—ã–π –∫—É—Å–æ–∫ —Ä–∞–±–æ—Ç—ã**, —Å–µ—Ä—å—ë–∑–Ω–æ.
–î–∞–≤–∞–π **–¥–æ–∂–º—ë–º Zammad**, –ø–æ—Ç–æ–º Graylog ‚Äî –∏ —É —Ç–µ–±—è –±—É–¥–µ—Ç **–∂–∏—Ä–Ω—ã–π, —Ä–∞–±–æ—á–∏–π –ø—É–Ω–∫—Ç 3.5**.

–ì–æ—Ç–æ–≤ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å, –∂–¥—É:

1. —Å–∫–æ–ª—å–∫–æ RAM —É Ubuntu
2. —á—Ç–æ –ø–∏—à–µ—Ç `docker compose logs -f zammad`

